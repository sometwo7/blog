---
title: 对象拷贝
tags:
  - Java
categories:
  - Java学习
comments: true
abbrlink: ee837b98
date: 2019-10-04 19:49:15
---
# 对象拷贝

## 1. 为什么要使用克隆？

克隆的对象可能包含一些已经修改过的属性，而 new 出来的对象的属性都还是初始化时候的值，所以当需要一个新的对象来保存当前对象的“状态”就靠 clone 方法了

<!-- more -->

## 2. 如何实现对象克隆？

- 实现Cloneable接口并重写Object类中的clone()方法。

- 实现Serializable接口，通过对象的序列化和反序列化实现克隆，可以实现真正的深度克隆。

## 3. 深拷贝和浅拷贝区别是什么？

- 在浅克隆中，
 - 如果原型对象的成员变量是值类型，将复制一份给克隆对象；
 - 如果原型对象的成员变量是引用类型，则将引用对象的地址复制一份给克隆对象，
 - 也就是说原型对象和克隆对象的成员变量指向相同的内存地址。
 - (在浅克隆中，当对象被复制时只复制它本身和其中包含的值类型的成员变量，而引用类型的成员对象并没有复制。)
- 在深克隆中，
 - 无论原型对象的成员变量是值类型还是引用类型，都将复制一份给克隆对象，
 - 深克隆将原型对象的所有引用对象也复制一份给克隆对象。
 - (在深克隆中，除了对象本身被复制外，对象所包含的所有成员变量也将复制。)
